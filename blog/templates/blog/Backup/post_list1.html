{% load staticfiles %}
<html>
   <head>
    <title>House_search</title>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">  
    <meta name="viewport" content="initial-scale=1.0">
    <meta charset="utf-8">
    <style>
      html, body {
        height: 80%; width:80%;
        margin: 0;
        padding: 0;
      }
      #map {
        height: 100%;
      }
    </style>
  </head>
    <body>
     <div>
	    <h1 class="page-header"><a href="">III House_search</a></h1>
	 </div>
	 
    <div id="map"></div>
    <script>

function initMap() {
  var house = new google.maps.LatLng(25.0548897, 121.6198237);

  var map = new google.maps.Map(document.getElementById('map'), {
    center: house,
    zoom: 12
  });

  var coordInfoWindow = new google.maps.InfoWindow();
  coordInfoWindow.setContent(createInfoWindowContent(house, map.getZoom()));
  coordInfoWindow.setPosition(house);
  coordInfoWindow.open(map);

  map.addListener('zoom_changed', function() {
    coordInfoWindow.setContent(createInfoWindowContent(house, map.getZoom()));
    coordInfoWindow.open(map);
  });
}

var TILE_SIZE = 50;

function createInfoWindowContent(latLng, zoom) {
  var scale = 1 << zoom;

  var worldCoordinate = project(latLng);

  var pixelCoordinate = new google.maps.Point(
      Math.floor(worldCoordinate.x * scale),
      Math.floor(worldCoordinate.y * scale));

  var tileCoordinate = new google.maps.Point(
      Math.floor(worldCoordinate.x * scale / TILE_SIZE),
      Math.floor(worldCoordinate.y * scale / TILE_SIZE));

  

  return [
    '南港路一段',
    '經緯度: ' + latLng,
    'Zoom level: ' + zoom,
  ].join('<br>');
}

// The mapping between latitude, longitude and pixels is defined by the web
// mercator projection.
function project(latLng) {
  var siny = Math.sin(latLng.lat() * Math.PI / 180);

  // Truncating to 0.9999 effectively limits latitude to 89.189. This is
  // about a third of a tile past the edge of the world tile.
  siny = Math.min(Math.max(siny, -0.9999), 0.9999);

  return new google.maps.Point(
      TILE_SIZE * (0.5 + latLng.lng() / 360),
      TILE_SIZE * (0.5 - Math.log((1 + siny) / (1 - siny)) / (4 * Math.PI)));
}

    </script>
    <script async defer
         src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAx5d6zS25w00696xLPHGCnP63npDlbzvc&signed_in=true&callback=initMap">
    </script>
  </body>
	
     
	 <div>

	    {% for post in posts %}

		<p>姓名:{{post.name}}</p>

		<h2><a href="">住址:{{post.address}}<h2>

		<p>城市:{{post.city}}</p>

		<p>==================</p>

		{% endfor %}	

	 </div>
   
   
     <div>
		<h4>發佈新文章:</h4>
	 </div>
	 <div>
		<form action="/blog/add_record" method="post" accept-charset="utf-8">
		{% csrf_token %}
			<table>
				{{post_form.as_table}}
			</table>
			<input type="submit" name="add_record" value="提交">
		</form>
	 </div>
	<div>
		<iframe src="http://www.w3schools.com"></iframe>
	</div>
    </body>
</html>